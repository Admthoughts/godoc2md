package main

var pkgTemplate = `{{with .PAst}}{{node $ .}}{{end}}{{/*

---------------------------------------

*/}}{{with .PDoc}}{{if $.IsMain}}# {{.ImportPath}}

{{comment_md .Doc}}
{{else}}# package {{.Name}}

    import "{{.ImportPath}}"

{{comment_md .Doc}}
{{example_text $ "" "\t"}}{{/*

---------------------------------------

*/}}{{with .Consts}}
## Constants

{{range .}}<pre>{{node $ .Decl}}</pre>
{{comment_md .Doc}}
{{end}}{{end}}{{/*

---------------------------------------

*/}}{{with .Vars}}
## Variables

{{range .}}<pre>{{node $ .Decl}}</pre>
{{comment_md .Doc}}
{{end}}{{end}}{{/*

---------------------------------------

*/}}{{with .Funcs}}
## Functions

{{range .}}    {{node $ .Decl}}

{{comment_md .Doc}}
{{example_text $ .Name "\t"}}{{end}}{{end}}{{/*

---------------------------------------

*/}}{{with .Types}}
## Types

{{range .}}{{$tname := .Name}}{{node $ .Decl}}
{{comment_md .Doc}}
{{range .Consts}}{{node $ .Decl}}
{{comment_md .Doc}}
{{end}}{{range .Vars}}{{node $ .Decl}}
{{comment_md .Doc}}
{{end}}{{example_text $ .Name "    "}}
{{range .Funcs}}{{node $ .Decl}}
{{comment_md .Doc}}
{{example_text $ .Name "\t"}}
{{end}}{{range .Methods}}{{node $ .Decl}}
{{comment_md .Doc}}
{{$name := printf "%s_%s" $tname .Name}}{{example_text $ $name "    "}}{{end}}
{{end}}{{end}}{{end}}{{/*

---------------------------------------

*/}}{{with $.Notes}}
## Notes
{{range $marker, $content := .}}
{{$marker}}S

{{range $content}}{{comment_text .Body "   " "\t"}}
{{end}}{{end}}{{end}}{{end}}{{/*

---------------------------------------

*/}}
- - -
Generated by [godoc2md](http://godoc.org/github.com/davecheney/godoc2md)

    godoc2md {{.PDoc.ImportPath}}`
